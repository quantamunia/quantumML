<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bootstrap Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
	<style>
        /* Custom CSS to make the spinner big */
        .spinner-border-custom {
            width: 5.5rem; /* Adjust the size as needed */
            height: 5.5rem; /* Adjust the size as needed */
            border-width: 0.6em; /* Adjust the thickness of the spinner lines */
        }
		
		.circular {
    height: 100px;
    width: 100px;
    position: relative;
}

.circular .inner,
.circular .outer,
.circular .circle {
    position: absolute;
    z-index: 6;
    height: 100%;
    width: 100%;
    border-radius: 100%;
    box-shadow: inset 0 1px 0 rgba(0, 0, 0, 0.2);
}

.circular .inner {
    top: 50%;
    left: 50%;
    height: 80px;
    width: 80px;
    margin: -40px 0 0 -40px;
    background-color: #dde6f0;
    border-radius: 100%;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2);
}

.circular .circle {
    z-index: 1;
    box-shadow: none;
}

.circular .numb {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
    font-size: 18px;
    font-weight: 500;
    color: #007bff;
}

.circular .bar {
    position: absolute;
    height: 100%;
    width: 100%;
    background: #fff;
    -webkit-border-radius: 100%;
    clip: rect(0px, 100px, 100px, 50px);
}

.circle .bar .progress {
    position: absolute;
    height: 100%;
    width: 100%;
    -webkit-border-radius: 100%;
    clip: rect(0px, 50px, 100px, 0px);
}

.circle .bar .progress,
.dot span {
    background: #007bff;
}

.circle .left .progress {
    z-index: 1;
    animation: left 4s linear both;
}

@keyframes left {
    100% {
        transform: rotate(180deg);
    }
}

.circle .right {
    z-index: 3;
    transform: rotate(180deg);
}

.circle .right .progress {
    animation: right 4s linear both;
    animation-delay: 4s;
}

@keyframes right {
    100% {
        transform: rotate(180deg);
    }
}

.circle .dot {
    z-index: 2;
    position: absolute;
    left: 50%;
    top: 50%;
    width: 50%;
    height: 10px;
    margin-top: -5px;
    animation: dot 8s linear both;
    transform-origin: 0% 50%;
}

.circle .dot span {
    position: absolute;
    right: 0;
    width: 10px;
    height: 10px;
    border-radius: 100%;
}

@keyframes dot {
    0% {
        transform: rotate(-90deg);
    }

    50% {
        transform: rotate(90deg);
        z-index: 4;
    }

    100% {
        transform: rotate(270deg);
        z-index: 4;
    }
}
	</style>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-3">
          <!-- Sidebar with input elements -->
		  
		  
          <div class="card">
		  
		  
            <div class="card-body">
			
					  <!-- Button trigger modal 
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
Quantum-ML Terminology  <i class="fa fa-hand-pointer-o" aria-hidden="true"></i>
</button>

<!-- Modal 
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
    
	
		
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
	 
	 
	 
	 

	  
	  
	  
	  
	  
	  
	      <h3 class="modal-title fs-5" id="exampleModalLabel">Feature Map Circuit</h3><br>
        <p>is a quantum circuit or transformation that encodes classical data into a quantum state. It takes classical input data, such as numerical features or patterns, and maps them to a quantum state representation."</p>
      </div>
	  
	  
	  <div class="modal-body">
	      <h3 class="modal-title fs-5" id="exampleModalLabel">Ansatz Circuit</h3><br>
		<p> The term 'ansatz' originates from the German word meaning 'assumption' or 'initial guess.' In quantum computing, an ansatz circuit is constructed by combining a set of quantum gates and operations, where certain parameters are left unspecified"</p>
	  </div>
	  
	  <div class="modal-body">
	      <h3 class="modal-title fs-5" id="exampleModalLabel">PCA</h3><br>
		<p>PCA is often used as a preprocessing step in machine learning and data analysis to reduce the dimensionality of high-dimensional datasets. By reducing the number of variables, PCA can simplify the data representation, remove noise, and improve computational efficiency.</p>
	  </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        
      </div>
    </div>
  </div>
</div>-->

         
              <!-- <h5 class="card-title">Dashboard</h5>-->
              <form method="POST" action="/" onsubmit="return validateForm()"> 
                <div class="col">
                  <div class="card mb-4 rounded-3 shadow-sm">
                    <div class="card-header py-2">
                      <h6 class="my-0 fw-normal">Initial Parameters</h6>
                    </div>
                    <div class="card-body align-items-left ">
                      <select class="form-select form-select-sm" aria-label=".form-select-sm example" name="model" id="modelSelect" required>
                        <option selected="">Models</option>
                        <option value="VQC/MLP">VQC/MLP</option>
                        <option value="QSVM/SVM">QSVM/SVM</option>
                        <option value="QSVC/SVC">QSVC/SVC</option>
                        <option value="VQC/LR">VQC/LR</option>
                      </select>
                      <br>
                      <select class="form-select form-select-sm" aria-label=".form-select-sm example" name="dataset" required>
                        <option selected="">Datasets</option>
                        <option value="iris">Iris</option>
						<option value="wine">Wine</option>
                        <option value="diabetes">Diabetes</option>
                        <option value="cancer">Breast Cancer</option>
						
                      </select>
                      <br>
                      <select class="form-select form-select-sm" aria-label=".form-select-sm example" name="split" required>
                        <option selected="">Train_Test_split Values</option>
                        <option value="80/20">80/20</option>
                        <option value="70/30">70/30</option>
                      </select>
                      <br>
                      <i class="fa fa-question-circle me-2" style="color:#0d6efd"></i> <select class="form-select form-select-sm" aria-label=".form-select-sm example" name="pca" required>
                        <option selected="">PCA Values</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                      </select>
                      <br>
					  <i class="fa fa-question-circle me-2" style="color:#0d6efd"></i>
                      <select class="form-select form-select-sm" aria-label=".form-select-sm example" name="featuremap" required>
                        <option selected="">Feature Map</option>
                        <option value="z">ZFeatureMap</option>
                        <option value="zz">ZZFeatureMap</option>
                        <option value="pauli">PauliFeatureMap</option>
                      </select>
                      <br>
					  <i class="fa fa-question-circle me-2" style="color:#0d6efd"></i>
                      <select class="form-select form-select-sm" aria-label=".form-select-sm example" name="entang" >
                        <option selected="">Entanglements</option>
                        <option value="full">Full</option>
                        <option value="linear">LInear</option>
                      </select>
                      <br>
					  
                    </div>
                  </div>
                </div>
            
              <div class="col" id="optimizerSection" style="display: block;">
                <div class="card mb-4 rounded-3 shadow-sm ">
                  <div class="card-header py-2 ">
                    <h6 class="my-0 fw-normal">Optimizers</h6>
                  </div>
                  <div class="card-body">
                    <select class="form-select form-select-sm" aria-label=".form-select-sm example" name="optimizer">
                      <option selected="">optimizer type</option>
                      <option value="adam">Adam</option>
                      <option value="cobyla">Cobyla</option>
                      <option value="spsa">Spsa</option>
                    </select>
                   
                    <br>
                 
                  </div>
                </div>
              </div>
              <!-- Add more input elements here -->
          
		   <div class="col ">
                <div class="card mb-4 rounded-3 shadow-sm ">
                  <div class="card-header py-2 ">
                    <h6 class="my-0 fw-normal">Tips </h6>
                  </div>
                  <div class="card-body">
                   <p class="fst-italic fs-6 text">  For a faster demo, choose: <br><br>
				   - lower PCA values <br>
				   - linear entanglement <br>
				   - Cobyla optmiser
					
					</div>
					</div>
					</div>
		  
		  
		  
		  
		  
            </div>
          </div>
        </div>
        <div class="col-md-9">
          <!-- Main content area 
        <h3>Exploring Quantum Machine Learning</h3>-->
          <br>
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h4>Exploring Quantum Machine Learning</h4>
                <button type="submit" type="button" class="btn btn-primary">
              <i class="fas fa-cog"></i> Initialise Model </button>
          </div>
         </form>
		  
		   {% if mod == 'QSVC/SVC' or mod == 'QSVM/SVM' or mod == 'VQC/MLP' or mod =='VQC/LR' %}
            <div class="col">
              <div class="card shadow-sm">
                <img class="img-fluid rounded mx-auto d-block" src="data:image/png;base64,{{ fmap }}" alt="Circuit">
                <div class="card-body">
                  <div class="d-inline">
           
                  </div>
				   <i class="fa fa-question-circle" style="font-size:36px;color:#0d6efd"></i> 
                </div>
				 
              </div>
			 
            </div>
			
			<br>
			{% if mod == 'VQC/MLP' or mod == 'VQC/LR'   %}
            <div class="col">
              <div class="card shadow-sm lh-lg">
                <img class="img-fluid rounded mx-auto d-block lh-lg" src="data:image/png;base64,{{ ans }}" alt="Circuit">
                <br>
                <div class="card-body">
				 <div class="d-inline">
           
                  </div>
				<i class="fa fa-question-circle" style="font-size:36px;color:#0d6efd"></i>
                </div>
				 
              </div>
            </div>
			 <div class="b-example-divider"></div>
			 {% endif   %}
			<div class=" row row-cols-1 row-cols-sm-2 g-3">
            <div class="b-example-divider"></div>
            <div class="b-example-divider"></div>
            <!-- Modal 
            <div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="settingsModalLabel">Azure Quantum Configuration</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <input type="text" class="form-control mb-3" placeholder="Resource ID URL">
                    <select class="form-select">
                      <option selected="">Backends</option>
                      <option value="option1">ionq</option>
                      <option value="option2">quantinuum</option>
                      <option value="option3">qasm</option>
                    </select>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                  </div>
                </div>
              </div>
            </div>-->
            <div class="col">
              <div class="card shadow-sm ">
                <div class="card-body lh-lg lh-lg ">
                  <div class="row lh-lg ">
				   <h4>Model : {{ mod }}</h4>
				   <br><br>
				    
                    <div class="col-md-4 lh-lg lh-lg"> Quantum Library: <br>
                    </div>
                    <div class="col-md-4">
                      <span>IBM Qiskit</span>
                      <br>
                    </div>
                    <div class="col-md-4">
                      <i class="fa fa-check-circle text-success"></i>
                      <br>
                    </div>
                  </div>
                  <div class="row lh-lg lh-lg">
                    <br>
                    <div class="col-md-4"> Cloud Platform : <br>
                    </div>
                    <div class="col-md-4">
                      <span>Azure Quantum</span>
                      <br>
                    </div>
                    <div class="col-md-4">
                      <i class="fa fa-check-circle text-success"></i>
                      <br>
                    </div>
                  </div>
                  <div class="row lh-lg lh-lg">
                    <br>
                    <div class="col-md-4"> Backend : <br>
                    </div>
                    <div class="col-md-4">
                      <span>ionq.simulator</span>
                      <br>
                    </div>
                    <div class="col-md-4">
                      <i class="fa fa-check-circle text-success"></i>
                      <br>
                    </div>
                  </div>
                  <div class="row lh-lg lh-lg">
                    <br>
                    <div class="col-md-4"> dataset size : <br>
                    </div>
                    <div class="col-md-4">
                      <span>150</span>
                      <br>
                    </div>
                    <div class="col-md-4">
                      <i class="fa fa-check-circle text-success"></i>
                      <br>
                    </div>
                  </div>
                  <div class="row lh-lg lh-lg">
                    <br>
                    <div class="col-md-4"> Name of dataset: <br>
                    </div>
                    <div class="col-md-4">
                      <span>{{ dname }}</span>
                      <br>
                    </div>
                    <div class="col-md-4">
                      <i class="fa fa-check-circle text-success"></i>
                      <br>
                    </div>
                  </div>
                  <div class="row lh-lg lh-lg">
                    <br>
                    <div class="col-md-4"> No.PCA values: <br>
                    </div>
                    <div class="col-md-4">
                      <span>{{ pcano }}</span>
                      <br>
                    </div>
                    <div class="col-md-4">
                      <i class="fa fa-check-circle text-success"></i>
                      <br>
                    </div>
                  </div>
                  <div class="row ">
                    <br>
                    <div class="col-md-4"> No. of samples: <br>
                    </div>
                    <div class="col-md-4">
                      <span>{{accuracy}}  </span>
                      <br>
                    </div>
                    <div class="col-md-4">
                      <i class="fa fa-check-circle text-success"></i>
                      <br>
                    </div>
                  </div>
                  <div class="row lh-lg lh-lg">
                    <br>
                    <div class="col-md-4"> Entanglement: <br>
                    </div>
                    <div class="col-md-4">
                      <span>{{ ent }}</span>
                      <br>
                    </div>
                    <div class="col-md-4">
                      <i class="fa fa-check-circle text-success"></i>
                      <br>
                    </div>
                  </div>
                  <div class="row lh-lg lh-lg">
                    <br>
                    <div class="col-md-4"> Optimizer type: <br>
                    </div>
                    <div class="col-md-4">
                      <span>{{ opt }}</span>
                      <br>
                    </div>
                    <div class="col-md-4">
                      <i class="fa fa-check-circle text-success"></i>
                      <br>
                    </div>
                  </div>
               
                  <div class="row lh-lg lh-lg lh-lg ">
                    <br>
                    <div class="col-md-4 lh-lg"> No. of features: <br>
                    </div>
                    <div class="col-md-4 lh-lg">
                      <span>{{ f_no }}</span>
                      <br>
                    </div>
                    <div class="col-md-4 lh-lg">
                      <i class="fa fa-check-circle text-success"></i>
                      <br>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col lh-lg ">
			
              <div class="card shadow-sm lh-lg d-flex justify-content-center align-items-center lh-lg">
			 
			  {% if mod == 'QSVC/SVC' or mod == 'QSVM/SVM'   %}
			  <br> <br>  <br>  <br>  
			  	
					<!--<h6 class="lh-lg "> Training Model....Please wait </h6>-->
				<div  id="first_spin"  >
			
				
			   <div class="spinner-border spinner-border-custom  text-primary id="firstSpinner"  "role="status">
					<span class="sr-only">Loading...</span>
				</div>
				</div>
					<!--<h6 class="lh-lg text-center"> Training Complete.....Thank you </h6>-->
				<div  id="second_spin" style="display: none;">
			
				<div class="circular">
					<div class="inner">
					</div>
					<div class="outer">
					</div>
					<div class="numb">
					0%</div>
					<div class="circle">
						<div class="dot">
							<span></span>
					</div>
					<div class="bar left">
						<div class="progress">
						</div>
					</div>
					<div class="bar right">
						<div class="progress">
							</div>
					</div>
				</div>
			</div>
			</div>
			 <br><br>  <br>  <br> <br>  
			  {% else %}
                <img id="graph" class="img-fluid rounded mx-auto d-block" src="{{ url_for('static', filename='graph.jpg') }}" alt="Objective function graph">
				
			  {% endif %}   
                
				
				
				<div class="card-body lh-lg">
				</div>
              </div>
            </div>
			
          </div>
          <!--<div class="col"><div class="card shadow-sm"><div class="card-body"><h6 class="my-0 fw-normal">..... Training in Progress</h6><img id="graph" class="img-fluid rounded mx-auto d-block" src="{{ url_for('static', filename='graph.jpg') }}" alt="Objective function graph" ></div></div></div>
	-->
          
			 
			 
			  
        <!-- Display the training metrics here -->
			
			 
		      
        
      
       
          <br>
          <div class=" row row-cols-1 row-cols-sm-2 g-3">
		  
		   <div class="col" id="colBlock" style="display: none;">
              <div class="card shadow-sm lh-lg">
                <br>
                <div class="card-body lh-lg"">
							
							<img id="bchart" class="img-fluid rounded mx-auto d-block" src="{{ url_for('static', filename='barchart.jpg') }}" alt="Objective function graph">
					          <i class="fa fa-question-circle" style="font-size:36px;color:#0d6efd"></i> 
							 
                </div>
              </div>
            </div>
			
           <!-- <div class="col">
              <div class="card shadow-sm">
                <img id="histogram" class="img-fluid rounded mx-auto d-block" src="{{ url_for('static', filename='histogram.jpg') }}" alt="Objective function graph">
                <div class="card-body">
                  <div class="d-inline">
				  
                  <i class="fa fa-question-circle" style="font-size:36px;color:#0d6efd"></i>
					
					
					<br>
					<button type="button" class="btn btn-outline-primary" data-bs-toggle="tooltip" data-bs-placement="top" title="The plot_histogram function in Qiskit is used to visualize the measurement results obtained from a quantum circuit execution. The x-axis represents the possible measurement outcomes and the y-axis represents the frequency of each outcome.This visualization helps you understand the probability distribution of the measurement results obtained from your quantum circuit execution.the values 1, 2, 3, 4 along the x-axis of the histogram correspond to the measurement outcomes or bit strings obtained from the quantum circuit.For example, if you have a quantum circuit with two qubits, the measurement outcomes can be 00, 01, 10, or 11, which correspond to the decimal numbers 0, 1, 2, and 3 respectively">Confusion Matrix</button>
                  </div>
                </div>
              </div>
            </div>-->
           
          </div>
		  
		  <!--  <button id="start-button" class="btn btn-primary mt-3">Deploy to Azure Quantum Workspace</button>-->
          <br>
		  
          <br>
		     <div id="progress-container" style="display: none;">
            <div class="progress">
              <div id="progress-bar" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <p id="status-message"></p>
            <div id="loading-spinner" class="spinner-border" role="status" style="display: none;">
              <span class="sr-only">Loading...</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>
	
	{%else %}
	Select parameters  and run the the application.  The code is available via <a href="#" >API</a> for testing<br><br><br>
	<img class="splash-image" src="https://www.simplilearn.com/ice9/free_resources_article_thumb/Quantum_Machine_Learning.jpg" alt="Quantum Machine Learning">
	
	
	{%endif%}
	
	
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.2/js/bootstrap.bundle.min.js"></script>
    <script>
      function updateGraph() {
        $.ajax({
          url: '/get_graph_data',
          method: 'GET',
          success: function(response) {
            var graphSrc = response.graph_src;
            $('#graph').attr('src', graphSrc);
          },
          complete: function() {
            setTimeout(updateGraph, 2000); // Update the graph every 3 seconds
          }
        });
      }
      $(document).ready(function() {
        updateGraph();
        updateHist();
		barChart();
      });
    </script>
    <script>
      function updateHist() {
        $.ajax({
          url: '/get_hist',
          method: 'GET',
          success: function(response) {
            var histSrc = response.hist_src;
            $('#histogram').attr('src', histSrc);
          },
          complete: function() {
            setTimeout(updateHist, 4000); // Update the graph every 3 seconds
          }
        });
      }
      $(document).ready(function() {
        updateHist();
      });
    </script>
	
	
	  <script>
      function barChart() {
        $.ajax({
          url: '/get_barchart',
          method: 'GET',
          success: function(response) {
            var barSrc = response.bar_src;
            $('#bchart').attr('src', barSrc);
          },
          complete: function() {
            setTimeout(barChart, 3000); // Update the graph every 3 seconds
          }
        });
      }
      $(document).ready(function() {
        barChart();
      });
    </script>
	
	
	
    <!--
	<script>
  function updateProgress(progress) {
  // Update the progress bar width and aria-valuenow attribute
  const progressBar = document.getElementById('progress-bar');
  progressBar.style.width = progress * 100 + '%';
  progressBar.setAttribute('aria-valuenow', progress * 100);

  // Update the status message
  const statusMessage = document.getElementById('status-message');
  statusMessage.innerText = 'Progress: ' + Math.round(progress * 100) + '%';

  // Hide the progress bar and button if the progress is 100%
  if (progress === 1.0) {
    progressBar.classList.add('progress-bar-striped', 'progress-bar-animated');
    document.getElementById('start-button').style.display = 'none';
    progressBar.style.display = 'none';
  }
}

  function startQuantumJob() {
    // Make the progress bar visible
    document.getElementById('progress-bar').style.display = 'block';

    // Start the quantum job
    $.getJSON('/quantum_job', function(data) {
      if (data.result === 'success') {
        // Job started successfully
        updateProgress(0); // Reset the progress bar
        checkQuantumJob(); // Start checking the job progress
      } else if (data.result === 'training_in_progress') {
        // Job already in progress, update the progress bar accordingly
        updateProgress(data.progress);
        checkQuantumJob(); // Continue checking the job progress
      } else {
        // Job not started or encountered an error
        console.log('Job not started or error occurred.');
      }
    });
  }

  function checkQuantumJob() {
    $.getJSON('/quantum_job', function(data) {
      if (data.result === 'success') {
        // Job completed successfully
        updateProgress(data.progress);
        console.log('Job completed:', data.data);
      } else if (data.result === 'training_in_progress') {
        // Job still in progress
        updateProgress(data.progress);
        setTimeout(checkQuantumJob, 1000); // Check again after 1 second
      } else {
        // Training not started or encountered an error
        console.log('Training not started or error occurred.');
      }
    });
  }

  $(document).ready(function() {
    // Attach click event handler to the Start button
    $('#start-button').click(startQuantumJob);
  });
</script>
-->
    <script>
	
      function updateProgress(progress) {
        const progressBar = document.getElementById('progress-bar');
        progressBar.style.width = progress + '%';
        progressBar.setAttribute('aria-valuenow', progress);
        const statusMessage = document.getElementById('status-message');
        statusMessage.innerText = 'Progress: ' + progress + '%';
        if (progress === 100) {
          progressBar.classList.remove('progress-bar-animated');
        }
      }
      document.getElementById('start-button').addEventListener('click', function() {
        // Show the progress container
        document.getElementById('progress-container').style.display = 'block';
        // Show the loading spinner
        document.getElementById('loading-spinner').style.display = 'block';
        // Reset the progress bar
        updateProgress(0);
        // Perform the quantum job
        $.getJSON('/quantum_job', function(data) {
          // Hide the loading spinner and hide button
          document.getElementById('start-button').style.display = 'none';
          document.getElementById('loading-spinner').style.display = 'none';
          if (data.result === 'success') {
            // Job completed successfully
            updateProgress(100);
            console.log('Job completed:', data.data);
          } else if (data.result === 'training_in_progress') {
            // Update progress asynchronously
            setTimeout(function checkProgress() {
              $.getJSON('/quantum_job', function(progressData) {
                if (progressData.result === 'training_in_progress') {
                  // Job still in progress
                  updateProgress(progressData.progress);
                  setTimeout(checkProgress, 1000); // Check again after 1 second
                } else {
                  // Job completed or encountered an error
                  if (progressData.result === 'success') {
                    updateProgress(100);
                    console.log('Job completed:', progressData.data);
                  } else {
                    console.log('Training not started or error occurred.');
                  }
                }
              });
            }, 1000);
          } else {
            // Training not started or encountered an error
            console.log('Training not started or error occurred.');
          }
        });
      });
    </script>
		 <script type='text/javascript'>
			const numb = document.querySelector(".numb");
			let counter = 1;
			setInterval(()=>{
			if(counter == 100){
			clearInterval();
			}else{
counter+=1;
numb.textContent = counter + "%";
}
}, 80);</script>
	
	<script type='text/javascript'>
	
	function handleSpinnerValue() {
            const colBlock = document.getElementById('colBlock');
			 colBlock.style.display = "block";

            
        }
	
	

		
    // Function to hide the first spinner and display the second spinner
    function showSecondSpinner() {
        const first_spin = document.getElementById("first_spin");
        const second_spin = document.getElementById("second_spin");

        first_spin.style.display = "none";
        second_spin.style.display = "block";
    }

    function q_spinner() {
        fetch('/q_spinner')
            .then(response => response.json())
            .then(data => {
                // Assuming the JSON response from the server is like {"spinner": "success"} or {"spinner": "training"}
                const spinnerValue = data.spinner;

                if (spinnerValue === "success") {
                    showSecondSpinner(); // Show the second spinner on successful classification
					setTimeout(handleSpinnerValue, 8000);
					
                } else if (spinnerValue === "completed"){
				   
				   setTimeout(handleSpinnerValue, 3000);
				
				
				} else if (spinnerValue === "training") {
                    console.log("Classification is still in progress. Display a message or handle accordingly.");
					setTimeout(q_spinner, 2000);
                } else {
                    console.log("Unknown response from the server."); // Handle unexpected response
                }
            })
            .catch(error => {
                console.error('Error:', error); // Handle any errors during the fetch
            });
    }

    // Call the q_spinner function to trigger the classification process
    q_spinner();
	
</script>
	

	<script>
  document.getElementById("modelSelect").addEventListener("change", function() {
    const optimizerSection = document.getElementById("optimizerSection");
    const selectedModel = this.value;

    if (selectedModel === "QSVM/SVM" || selectedModel === "QSVC/SVC") {
      optimizerSection.style.display = "none"; // Hide the "Optimizers" section
    } else {
      optimizerSection.style.display = "block"; // Show the "Optimizers" section
    }
  });
</script>

<script>
  function validateForm() {
    const modelSelect = document.getElementById('modelSelect');
    const datasetSelect = document.getElementsByName('dataset')[0];
    const featureMapSelect = document.getElementsByName('featuremap')[0];
    const entangSelect = document.getElementsByName('entang')[0];
    const splitSelect = document.getElementsByName('split')[0];
    const pcaSelect = document.getElementsByName('pca')[0];
    const optimizerSelect = document.getElementsByName('optimizer')[0];

    if (
      modelSelect.value === '' ||
      datasetSelect.value === '' ||
      featureMapSelect.value === '' ||
      entangSelect.value === '' ||
      splitSelect.value === '' ||
      pcaSelect.value === '' ||
      optimizerSelect.value === ''
    ) {
      alert('Please select all required fields.');
      return false; // Prevent form submission if required fields are not selected
    }
  }
</script>






	
	
  </body>
</html>

<!--
